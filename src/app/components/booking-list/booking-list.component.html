<div class="booking-container">
  
  <div class="list-header-row">
    <h2 class="page-title" style="margin: 0; color: #333;">Alle Termine</h2>
    
    <div class="search-box">
      <i class="bi bi-search search-icon"></i>
      <input type="text" 
             placeholder="Suchen (Person, Datum...)" 
             (input)="updateSearch($event)">
    </div>
  </div>

  <div class="cards-list">

    @for (b of filteredBookings(); track b.id) {
      
      <div class="booking-card">
        
        <div class="status-stripe"
             [ngClass]="{
               'confirmed': b.status === 'confirmed',
               'rejected': b.status === 'rejected',
               'pending': b.status === 'pending'
             }">
        </div>

        <div class="card-content-wrapper">

          <div class="checkbox-wrapper">
            <input type="checkbox">
          </div>

          <div class="card-main-info">
            <h3 class="event-title">{{ b.title }}</h3>
            
            <div class="event-details">
              <span class="detail-item">â±ï¸ {{ b.duration }} min</span>
              <span class="separator">â€¢</span>
              <span class="detail-item">ğŸ‘¤ {{ b.personName }} (mit {{ b.withWhom }})</span>
            </div>

            <div class="event-schedule">
              ğŸ“… {{ b.date }} um {{ b.time }} Uhr
            </div>
          </div>

          <div class="card-actions">
            
            <ng-container *ngIf="authService.isAdmin()">
                
                <button class="btn-icon check" 
                        title="BestÃ¤tigen"
                        (click)="confirmBooking(b.id)"
                        *ngIf="b.status === 'pending'">
                  âœ”
                </button>

                <button class="btn-icon cross" 
                        title="Ablehnen"
                        (click)="rejectBooking(b.id)"
                        *ngIf="b.status === 'pending'">
                  âœ–
                </button>

                <button class="btn-icon trash" 
                        title="LÃ¶schen"
                        (click)="deleteBooking(b.id)">
                  ğŸ—‘
                </button>

            </ng-container>

            <span *ngIf="!authService.isAdmin()" style="font-size:0.8rem; color:#ccc; margin-left:10px; font-style:italic;">
              Nur Ansicht
            </span>

          </div> </div> </div> } @empty {
      <div class="empty-state" style="text-align:center; padding: 3rem; color: #888;">
        <i class="bi bi-inbox" style="font-size: 2rem; display:block; margin-bottom: 1rem;"></i>
        <p>Keine Termine gefunden.</p>
      </div>
    }

  </div>
</div>